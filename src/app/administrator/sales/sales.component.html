<div class="container">
  <h1>Ventas</h1>
  <div class="mat-elevation-z8">
    <table mat-table [dataSource]="sales">
      <caption></caption>
      <ng-container matColumnDef="createdDate">
        <th mat-header-cell *matHeaderCellDef>Fecha</th>
        <td mat-cell *matCellDef="let sale"> {{sale.createdDate | date:'short'}} </td>
      </ng-container>
      <ng-container matColumnDef="status">
        <th mat-header-cell *matHeaderCellDef>Estado</th>
        <td mat-cell *matCellDef="let sale"> {{sale.status}} </td>
      </ng-container>
      <ng-container matColumnDef="client">
        <th mat-header-cell *matHeaderCellDef> Cliente</th>
        <td mat-cell *matCellDef="let sale"> {{sale.client ? sale.client.fullName : ''}} </td>
      </ng-container>
      <ng-container matColumnDef="total">
        <th mat-header-cell *matHeaderCellDef>Total</th>
        <td mat-cell *matCellDef="let sale">
          {{sale.total | number:'1.0-0'}}
      </ng-container>
      <ng-container matColumnDef="options">
        <th mat-header-cell *matHeaderCellDef>&nbsp;</th>
        <td mat-cell *matCellDef="let element" class="text-nowrap">
          <mat-icon *ngIf="element.paymentDetail" matTooltip="Mostrar detalles de la transacciÃ³n"
                    (click)="openTransaction(element.paymentDetail)"
                    class="icon-click">
            paid
          </mat-icon>
          <mat-icon *ngIf="element.history.length > 0" matTooltip="Mostrar historial"
                    (click)="openHistory(element.history)"
                    class="icon-click">
            history
          </mat-icon>
        </td>
      </ng-container>
      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
    </table>
    <mat-paginator (page)="handlePageEvent($event)" [length]="pagination.length" [pageSize]="pagination.pageSize"
                   [pageSizeOptions]="pagination.pageSizeOptions">
    </mat-paginator>
  </div>
  <br>
</div>
